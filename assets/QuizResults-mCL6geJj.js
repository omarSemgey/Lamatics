import{f as s,r as e,j as i}from"./vendor-react-B9slfjkH.js";import{L as a}from"./main-C1RESi2Z.js";import{l as r}from"./vendor-CQ7Um5D1.js";import{M as t}from"./MathRender-CkNMaa3x.js";import"./vendor-katex-7i1KP8HX.js";function n(){const n=s(),[c,o]=e.useState(!0),[u,d]=e.useState({}),[l,m]=e.useState([]),[q,j]=e.useState([]),[h,x]=e.useState(0);if(e.useEffect((()=>{(async()=>{await r.get(`/submissions/${n.quiz}`).then((s=>{d(s.data.submission.quiz),j(s.data.submission.answers),m(s.data.submission.quiz.quiz_questions||[]),x(s.data.submission.score),o(!1)}))})()}),[n]),c)return i.jsx(a,{});function _(s){const e=q[s.question_id]===s.question_answer_id,i=1==s.correct_answer;switch(!0){case e&&i:return"user-correct";case e&&!i:return"user-incorrect";case i:return"correct";default:return""}}return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"user-results-show",children:[i.jsxs("div",{className:"quiz-header",children:[i.jsx("h1",{className:"quiz-title",children:u.quiz_title}),i.jsx("p",{className:"quiz-description",children:u.quiz_description}),i.jsx("p",{className:"user-score",children:i.jsxs("span",{className:"score "+(p=h,p>75?"good":p>=50&&p<75?"medium":"bad"),children:["Your score : ",h,"%"]})})]}),i.jsx("div",{className:"quiz-questions",children:null==l?void 0:l.map(((s,e)=>{var a;return i.jsxs("div",{className:"question-card",children:[i.jsxs("div",{className:"question-header",children:[i.jsxs("span",{className:"question-number",children:["Question ",e+1]}),i.jsx("h3",{className:"question-text",children:i.jsx(t,{content:s.question_description||""})})]}),s.question_image&&i.jsx("div",{className:"question-image",children:i.jsx("img",{src:s.question_image,alt:`Visual for question ${e+1}`})}),i.jsx("div",{className:"answers-list",children:null==(a=s.question_answers)?void 0:a.map(((s,e)=>i.jsxs("div",{className:"answer",children:[i.jsx("span",{className:`answer-letter ${_(s)}`,children:String.fromCharCode(65+e)}),i.jsx("div",{className:"answer-text",children:i.jsx(t,{content:s.question_answer_text||""})})]},s.question_answer_id)))})]},s.quiz_question_id)}))})]})});var p}export{n as default};
