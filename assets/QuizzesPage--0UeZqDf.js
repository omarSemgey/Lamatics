import{r as e,f as s,j as a,L as i}from"./vendor-react-B9slfjkH.js";import{l as t}from"./vendor-CQ7Um5D1.js";import{L as r}from"./main-C1RESi2Z.js";import{P as l}from"./Pagination-D3S5DD5Z.js";import"./vendor-katex-7i1KP8HX.js";function c({mode:c}){const u=e.useRef(),[n,d]=e.useState([]),[o,z]=e.useState(1),[h,p]=e.useState(!1),[q,f]=e.useState(!1),[j,m]=e.useState(!0),x=s();function g(e){return 1==e?"Easy":2==e?"Medium":"Hard"}return e.useEffect((()=>{m(!0),f(!1);"list"==c?(async()=>{await t.get("/quizzes",{params:{page:x.page||1}}).then((e=>{d(e.data.quizzes.data),z(e.data.quizzes.last_page),e.data.quizzes.total>10&&p(!0),m(!1)}))})():(async()=>{await t.get("/quizzes/search",{params:{search:x.search,page:x.page||1}}).then((e=>{0!=e.data.quizzes.data?d(e.data.quizzes.data):f(!0)})).catch((()=>{f(!0)})).finally((()=>{m(!1)}))})()}),[x,c]),j?a.jsx(r,{}):q?a.jsx(a.Fragment,{children:a.jsxs("div",{className:"search-page empty",children:[a.jsx("h1",{children:"لم يتم العثور على اي نتائج"}),a.jsx("p",{children:"حاول التاكد من اسم الاختبار والمحاولة مرة اخرى"}),a.jsx(i,{to:"/quizzes",children:"ارجع الى الصفحة الرئيسية"})]})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"quizzes-page",children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{className:"page-title",children:"الأمتحانات"}),a.jsxs("select",{onChange:function(){1==u.current.value&&d([...n.sort(((e,s)=>e.quiz_title<s.quiz_title?-1:1))]),2==u.current.value&&d([...n.sort(((e,s)=>e.quiz_title>s.quiz_title?-1:1))]),3==u.current.value&&d([...n.sort(((e,s)=>e.quiz_difficulty<s.quiz_difficulty?-1:1))]),4==u.current.value&&d([...n.sort(((e,s)=>e.quiz_difficulty>s.quiz_difficulty?-1:1))])},ref:u,className:"sort",children:[a.jsx("option",{value:"1",children:"ترتيب تصاعدي حسب الابجدية"}),a.jsx("option",{value:"2",children:"ترتيب تنازلي حسب الابجدية"}),a.jsx("option",{value:"3",children:"ترتيب من الاقل صعوبة"}),a.jsx("option",{value:"4",children:"ترتيب من الاعلى صعوبة"})]})]}),n.map((e=>a.jsx(i,{to:`/quizzes/show/${e.quiz_id}`,children:a.jsxs("div",{className:`quiz-container ${g(e.quiz_difficulty).toLowerCase()}`,children:[a.jsx("div",{className:"difficulty-circle",children:g(e.quiz_difficulty)}),a.jsxs("div",{className:"quiz-details",children:[a.jsx("h3",{className:"quiz-title",children:e.quiz_title}),a.jsx("p",{className:"quiz-description",children:e.quiz_description})]})]})},e.quiz_id)))]}),h&&a.jsx(l,{path:"list"==c?"/quizzes":`/quizzes/search/${x.search}`,page:x.page,lastPage:o})]})}export{c as default};
