import{u as e,r,j as s}from"./vendor-react-CtwO7XYP.js";/* empty css             */import{k as a}from"./vendor-Bb-fZBls.js";import"./vendor-katex-7i1KP8HX.js";function n(){const n=e(),t=r.useRef(),l=r.useRef(),i=r.useRef(),[d,c]=r.useState(!1),[o,h]=r.useState({}),[p,m]=r.useState(!1);return s.jsx(s.Fragment,{children:s.jsx("div",{className:"form",children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"header",children:s.jsx("h1",{children:"Create user"})}),s.jsxs("form",{children:[s.jsxs("div",{children:[s.jsx("label",{children:"Username"}),s.jsx("input",{ref:t,type:"text",placeholder:"Enter username",pattern:"^[\\p{L}0-9_\\s]{3,25}$",minLength:3,maxLength:25,required:!0}),o.name&&s.jsx("p",{className:"error",children:o.name})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Email"}),s.jsx("input",{ref:l,type:"text",placeholder:"Enter email",pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",maxLength:320,required:!0}),o.email&&s.jsx("p",{className:"error",children:o.email})]}),s.jsxs("div",{children:[s.jsx("label",{children:"Password"}),s.jsx("input",{ref:i,type:"password",placeholder:"Enter password",pattern:"^(?=.*[A-Za-z])(?=.*\\d).{6,}$",minLength:3,maxLength:25,required:!0}),o.password&&s.jsx("p",{className:"error",children:o.password})]}),s.jsx("div",{children:s.jsxs("label",{children:[s.jsx("span",{children:"Is Admin"}),s.jsx("input",{type:"checkbox",checked:d,onChange:e=>c(e.target.checked)})]})}),s.jsx("button",{type:"submit",disabled:p,onClick:e=>function(e){e.preventDefault(),m(!0),h({}),a.post("/users",{name:t.current.value,email:l.current.value,password:i.current.value,role:d?2:1}).then((()=>{n("/dashboard/users")})).catch((e=>{var r,s;if(null==(s=null==(r=e.response)?void 0:r.data)?void 0:s.errors){const r={};Object.entries(e.response.data.errors).forEach((([e,s])=>{r[e]=s[0]})),h(r)}})).finally((()=>{m(!1)}))}(e),children:p?"Loading...":"Create User"})]})]})})})}export{n as default};
