import{r as e,f as s,j as i,L as a}from"./vendor-react-CtwO7XYP.js";import{k as t}from"./vendor-Bb-fZBls.js";import{L as r}from"./index-C89luORy.js";import{P as c}from"./Pagination-D1uvtQUl.js";import"./vendor-katex-7i1KP8HX.js";function l({mode:l}){const u=e.useRef(),[n,d]=e.useState([]),[o,z]=e.useState(1),[h,p]=e.useState(!1),[q,f]=e.useState(!1),[j,m]=e.useState(!0),x=s();function g(e){return 1==e?"Easy":2==e?"Medium":"Hard"}return e.useEffect((()=>{m(!0),f(!1);"list"==l?(async()=>{await t.get("/quizzes",{params:{page:x.page||1}}).then((e=>{d(e.data.quizzes.data),z(e.data.quizzes.last_page),e.data.quizzes.total>10&&p(!0),m(!1)}))})():(async()=>{await t.get("/quizzes/search",{params:{search:x.search,page:x.page||1}}).then((e=>{0!=e.data.quizzes.data?d(e.data.quizzes.data):f(!0)})).catch((()=>{f(!0)})).finally((()=>{m(!1)}))})()}),[x,l]),j?i.jsx(r,{}):q?i.jsx(i.Fragment,{children:i.jsxs("div",{className:"search-page empty",children:[i.jsx("h1",{children:"لم يتم العثور على اي نتائج"}),i.jsx("p",{children:"حاول التاكد من اسم الاختبار والمحاولة مرة اخرى"}),i.jsx(a,{to:"/quizzes",children:"ارجع الى الصفحة الرئيسية"})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"quizzes-page",children:[i.jsxs("div",{className:"page-header",children:[i.jsx("h1",{className:"page-title",children:"الأمتحانات"}),i.jsxs("select",{onChange:function(){1==u.current.value&&d([...n.sort(((e,s)=>e.quiz_title<s.quiz_title?-1:1))]),2==u.current.value&&d([...n.sort(((e,s)=>e.quiz_title>s.quiz_title?-1:1))]),3==u.current.value&&d([...n.sort(((e,s)=>e.quiz_difficulty<s.quiz_difficulty?-1:1))]),4==u.current.value&&d([...n.sort(((e,s)=>e.quiz_difficulty>s.quiz_difficulty?-1:1))])},ref:u,className:"sort",children:[i.jsx("option",{value:"1",children:"ترتيب تصاعدي حسب الابجدية"}),i.jsx("option",{value:"2",children:"ترتيب تنازلي حسب الابجدية"}),i.jsx("option",{value:"3",children:"ترتيب من الاقل صعوبة"}),i.jsx("option",{value:"4",children:"ترتيب من الاعلى صعوبة"})]})]}),n.map((e=>i.jsx(a,{to:`/quizzes/show/${e.quiz_id}`,children:i.jsxs("div",{className:`quiz-container ${g(e.quiz_difficulty).toLowerCase()}`,children:[i.jsx("div",{className:"difficulty-circle",children:g(e.quiz_difficulty)}),i.jsxs("div",{className:"quiz-details",children:[i.jsx("h3",{className:"quiz-title",children:e.quiz_title}),i.jsx("p",{className:"quiz-description",children:e.quiz_description})]})]})},e.quiz_id)))]}),h&&i.jsx(c,{path:"list"==l?"/quizzes":`/quizzes/search/${x.search}`,page:x.page,lastPage:o})]})}export{l as default};
