import{f as s,r as e,j as i,L as r}from"./vendor-react-B9slfjkH.js";import{L as n}from"./main-C1RESi2Z.js";import{l as a}from"./vendor-CQ7Um5D1.js";import{M as t}from"./MathRender-CkNMaa3x.js";import"./vendor-katex-7i1KP8HX.js";function u(){const{quiz:u}=s(),{user:c}=s(),[o,d]=e.useState(!0),[l,m]=e.useState({}),[h,j]=e.useState([]),[q,x]=e.useState([]),[f,p]=e.useState(!1);if(e.useEffect((()=>{p(!1);(async()=>{await a.get(`/submissions/${u}/${c}`).then((s=>{if(null==s.data.submission)return p(!0),void d(!1);m(s.data.submission.quiz),x(s.data.submission.answers),j(s.data.submission.quiz.quiz_questions||[])})).catch((()=>{p(!0),d(!1)})).finally((()=>{d(!1)}))})()}),[u,c]),o)return i.jsx(n,{});if(f)return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"page-error empty",children:[i.jsx("h1",{children:"No submission were found"}),i.jsx("p",{children:"please try checking the quiz id and try again"}),i.jsx(r,{to:`/dashboard/users/${c}/submissions`,children:"Submission list"})]})});function v(s){const e=q[s.question_id]===s.question_answer_id,i=1==s.correct_answer;switch(!0){case e&&i:return"user-correct";case e&&!i:return"user-incorrect";case i:return"correct";default:return""}}return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"user-results-show",children:[i.jsxs("div",{className:"quiz-header",children:[i.jsx("h1",{className:"quiz-title",children:l.quiz_title}),i.jsx("p",{className:"quiz-description",children:l.quiz_description})]}),i.jsx("div",{className:"quiz-questions",children:null==h?void 0:h.map(((s,e)=>{var r;return i.jsxs("div",{className:"question-card",children:[i.jsxs("div",{className:"question-header",children:[i.jsxs("span",{className:"question-number",children:["Question ",e+1]}),i.jsx("h3",{className:"question-text",children:i.jsx(t,{content:s.question_description||""})})]}),s.question_image&&i.jsx("div",{className:"question-image",children:i.jsx("img",{src:s.question_image,alt:`Visual for question ${e+1}`})}),i.jsx("div",{className:"answers-list",children:null==(r=s.question_answers)?void 0:r.map(((s,e)=>i.jsxs("div",{className:"answer",children:[i.jsx("span",{className:`answer-letter ${v(s)}`,children:String.fromCharCode(65+e)}),i.jsx("div",{className:"answer-text",children:i.jsx(t,{content:s.question_answer_text||""})})]},s.question_answer_id)))})]},s.quiz_question_id)}))})]})})}export{u as default};
