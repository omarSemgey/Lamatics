import{u as e,r,f as s,j as a}from"./vendor-react-B9slfjkH.js";/* empty css             */import{L as t}from"./main-C1RESi2Z.js";import{l as n}from"./vendor-CQ7Um5D1.js";import"./vendor-katex-7i1KP8HX.js";function l(){const l=e(),i=r.useRef(),u=r.useRef(),d=r.useRef(),[c,o]=r.useState({}),p=s(),[m,h]=r.useState(null),[j,x]=r.useState(!0),[f,v]=r.useState(!1);if(r.useEffect((()=>{(async()=>{await n.get(`/users/${p.user}`).then((e=>{h(e.data.user),x(!1)}))})()}),[p]),j)return a.jsx(t,{});return a.jsx(a.Fragment,{children:a.jsx("div",{className:"form",children:a.jsxs("div",{className:"container",children:[a.jsx("div",{className:"header",children:a.jsx("h1",{children:"Update user"})}),a.jsxs("form",{children:[a.jsxs("div",{children:[a.jsx("label",{children:"Username"}),a.jsx("input",{ref:i,type:"text",placeholder:"Enter username",pattern:"/^[\\p{L}\\p{N}\\p{S}\\p{P}\\s]{3,25}$/u",minLength:3,maxLength:25,defaultValue:m.name}),c.name&&a.jsx("p",{className:"error",children:c.name})]}),a.jsxs("div",{children:[a.jsx("label",{children:"Email"}),a.jsx("input",{ref:u,type:"text",placeholder:"Enter email",pattern:"^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$",maxLength:320,defaultValue:m.email}),c.email&&a.jsx("p",{className:"error",children:c.email})]}),a.jsxs("div",{children:[a.jsx("label",{children:"Password"}),a.jsx("input",{ref:d,type:"password",placeholder:"Enter password",pattern:"/^[\\p{L}\\p{N}\\p{S}\\p{P}\\s]{6,}$/u",minLength:3,maxLength:25}),c.password&&a.jsx("p",{className:"error",children:c.password})]}),a.jsx("button",{type:"submit",disabled:f,onClick:e=>function(e){e.preventDefault(),o({}),v(!0);const r={};i.current.value&&(r.name=i.current.value),u.current.value&&(r.email=u.current.value),d.current.value&&(r.password=d.current.value),n.put(`/users/${p.user}`,r).then((()=>{l("/dashboard/users")})).catch((e=>{var r,s;if(null==(s=null==(r=e.response)?void 0:r.data)?void 0:s.errors){const r={};Object.entries(e.response.data.errors).forEach((([e,s])=>{r[e]=s[0]})),o(r)}})).finally((()=>{v(!1)}))}(e),children:f?"Loading...":"Update user"})]})]})})})}export{l as default};
