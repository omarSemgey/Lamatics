import{k as e}from"./vendor-Bb-fZBls.js";import{r as a,d as t}from"./vendor-react-CtwO7XYP.js";function o(){const[o,r]=a.useState(0),[s,n]=a.useState(0),[i,u]=a.useState(!0),{pathname:d}=t();return a.useEffect((()=>{(async()=>{await e.get("/auth/me").then((e=>{n(e.data.user.role),r(e.data.user.user_id)})).catch((e=>{var a,t;"invalid_token"===(null==(t=null==(a=e.response)?void 0:a.data)?void 0:t.error)&&(document.cookie="access_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="refresh_token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),n(0)})).finally((()=>{u(!1)}))})()}),[d]),{id:o,role:s,isLoading:i}}export{o as u};
